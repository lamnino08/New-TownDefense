{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Dish</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <h1>Gọi món ăn</h1>

    <form method="post" action="{% url 'order_dish' %}">
        {% csrf_token %}

        <div>
            <label for="table">Chọn bàn:</label>
            <select name="table" id="table">
                {% for table in tables %}
                    <option value="{{ table.table_id }}">{{ table.table_number }}</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label for="dish">Chọn món ăn:</label>
            <select name="dish" id="dish">
                {% for dish in menu %}
                    <option value="{{ dish.dish_id }}">{{ dish.name }} - {{ dish.price }} VND</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label for="quantity">Số lượng:</label>
            <input type="number" name="quantity" id="quantity" min="1" value="1" required>
        </div>

        <div>
            <label for="note">Ghi chú:</label>
            <textarea name="note" id="note" placeholder="Nhập ghi chú nếu có..."></textarea>
        </div>

        <button type="submit">Gọi món</button>
    </form>

    <h2>Danh sách món đã gọi</h2>
    <table>
        <thead>
            <tr>
                <th>Bàn</th>
                <th>Món ăn</th>
                <th>Số lượng</th>
                <th>Ghi chú</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody>
            {% for order in orders %}
            <tr>
                <td>{{ order.table.table_number }}</td>
                <td>{{ order.dish.name }}</td>
                <td>{{ order.number }}</td>
                <td>{{ order.note }}</td>
                <td>
                    <a href="{% url 'update_dish_order' order.dish_order_id %}">Sửa</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
