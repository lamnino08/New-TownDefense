{% extends 'base.html' %}
{% block content %}
<h2>Gọi Món Ăn</h2>
<form method="post">
    {% csrf_token %}
    
    <div>
        <label for="table">Chọn Bàn:</label>
        <select name="table" id="table">
            {% for table in tables %}
                <option value="{{ table.id }}">{{ table.table_number }}</option>
            {% endfor %}
        </select>
    </div>

    <div>
        <label for="dish">Chọn Món Ăn:</label>
        <select name="dish" id="dish">
            {% for dish in menu %}
                <option value="{{ dish.id }}">{{ dish.name }} - {{ dish.price }} VND</option>
            {% endfor %}
        </select>
    </div>

    <div>
        <label for="quantity">Số Lượng:</label>
        <input type="number" id="quantity" name="quantity" min="1" value="1" required>
    </div>

    <div>
        <label for="note">Ghi Chú:</label>
        <textarea id="note" name="note" placeholder="Nhập ghi chú nếu có..."></textarea>
    </div>

    <button type="submit">Gọi Món</button>
</form>

<h2>Danh Sách Món Đã Gọi</h2>
<table border="1">
    <thead>
        <tr>
            <th>Bàn</th>
            <th>Món Ăn</th>
            <th>Số Lượng</th>
            <th>Ghi Chú</th>
            <th>Hành Động</th>
        </tr>
    </thead>
    <tbody>
        {% for order in orders %}
        <tr>
            <td>{{ order.table.table_number }}</td>
            <td>{{ order.dish.name }}</td>
            <td>{{ order.quantity }}</td>
            <td>{{ order.note }}</td>
            <td>
                <a href="{% url 'update_dish_order' order.id %}">Cập Nhật</a> |
                <a href="{% url 'cancel_dish_order' order.id %}">Hủy</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
